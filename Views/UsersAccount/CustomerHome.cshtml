@model IEnumerable<web2Project.Models.Item>

@{
    Layout = "~/Views/Shared/CustomerLayout.cshtml";
}

<style>
    body {
        background-image: url('/images/pharmacybg.png');
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
    }

    .main-card {
        background-color: rgba(33, 37, 41, 0.85);
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(0,0,0,0.5);
        color: white;
    }

    .inner-card {
        background-color: rgba(255, 255, 255, 0.06);
        color: white;
        height: 100%;
    }

    .card-body img {
        border-radius: 5px;
        max-width: 100%;
        height: 100px;
        object-fit: contain;
    }
</style>

<div class="card main-card col-md-8 mx-auto mt-3">
    <div class="border-bottom">
        <h5 class="text-center"> Welcome @Context.Session.GetString("Name") </h5>
    </div>
    <div class="text-center mt-2 mb-4">
        <h1>Taibah Pharmacy</h1>
        <h6 style="color:lightgray">Wellness Starts Here</h6>
    </div>
    <div class="d-flex justify-content-center mt-4 mb-2">
        <div class="py-2 px-5 rounded-3 shadow-sm" style="background-color:cornflowerblue;">
            <h3 class="fw-bold">Discount Items</h3>
        </div>
    </div>

    <div class="row text-center g-4 justify-content-center">
        @foreach (var item in Model)
        {
            <div class="col-md-4 col-sm-6">
                <div class="card inner-card">
                    <div class="card-header bg-primary text-center text-truncate">
                        @item.Category
                    </div>

                    <div class="card-body">
                        <img src="~/images/@item.ImgFile" onerror="this.src='/images/default.png'">

                        <h5 class="mt-2 text-truncate">@item.Name</h5>
                        <p class="text-success fw-bold">@item.Price SAR</p>
                    </div>

                    <div class="card-footer border-0 bg-transparent">
                        <p class="d-flex justify-content-center">
                            <button type="button" class="btn btn-primary btn-sm w-100 btn-lg"
                                    data-bs-toggle="modal"
                                    data-bs-target="#detailsModal-@item.Id">
                                Details
                            </button>

                            @await Html.PartialAsync("DisDetails", item)
                        </p>
                    </div>
                </div>
            </div>
        }

        @if (!Model.Any())
        {
            <div class="col-12">
                <div class="alert alert-info">No discounted items available right now.</div>
            </div>
        }

    </div>
</div>